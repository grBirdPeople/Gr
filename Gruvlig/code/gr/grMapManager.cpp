#include	"grMapManager.h"

#include	"grDefine.h"
#include	"grMap.h"


// dTor
//////////////////////////////////////////////////
grMapManager::~grMapManager( void )
{
	for ( auto& i : m_pVecMap )
	{
		if ( i != nullptr )
		{
			DELANDNULL( i );
		}
	}
}


// GetMap
//////////////////////////////////////////////////
grMap*
grMapManager::GetMap( const str& uniqueName )
{
	for( auto& i : m_pVecMap )
	{
		if( i->GetMapData()->Name == uniqueName )
		{
			return i;
		}
	}

	return nullptr;
}


// CreateAllMaps
//////////////////////////////////////////////////
void
grMapManager::CreateMaps( void )
{
	str map_00	=	".................................................."
					"....######.......#####........##.....##..........."
					"...###..........###..#......####.#######.........."
					"...####...####..##...#......#..###.###............"
					"...########..####.......#####....#.#....####..##.."
					"....#...####....##...####..#########..###..#####.."
					"..####....####...#####...#####..##.####...##...##."
					".########...#######.######..#####.....#######..##."
					"..###...#####.......###......##.............####.."
					".................................................."
					;
					
	m_pVecMap.push_back( new grMap( "map_00", map_00, grV2f( 13.3f, 13.3f ), 50, 10 ) );

	//////////////////////////////////////////////////

	str map_01	=	"..................................."
					".........#...............#........."
					"........#.#.............#.#........"
					"......##...##.........##...##......"
					".....#.##.##.#.......#.##.##.#....."
					"...##...###...##...##...###...##..."
					"..#.##.#...#.##.#.#.##.#...#.##.#.."
					".#...##.....##...#...##.....##...#."
					"..#.##.#...#.##.#.#.##.#...#.##.#.."
					"...##...###...##...##...###...##..."
					".....#.##.##.#.......#.##.##.#....."
					"......##...##.........##...##......"
					"........#.#.............#.#........"
					".........#...............#........."
					"........#.#.............#.#........"
					"......##...##.........##...##......"
					".....#.##.##.#.......#.##.##.#....."
					"...##...###...##...##...###...##..."
					"..#.##.#...#.##.#.#.##.#...#.##.#.."
					".#...##.....##...#...##.....##...#."
					"..#.##.#...#.##.#.#.##.#...#.##.#.."
					"...##...###...##...##...###...##..."
					".....#.##.##.#.......#.##.##.#....."
					"......##...##.........##...##......"
					"........#.#.............#.#........"
					".........#...............#........."
					"..................................."
					;
						
	m_pVecMap.push_back( new grMap( "map_01", map_01, grV2f( 8.0f, 8.0f ), 35, 27 ) );
}